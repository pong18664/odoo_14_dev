<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="report_pick_components_version_th_custom">

        <div class="header" style="font-size:14px; border-bottom:1px solid;">

            <div class="row" style="width:100%; margin-left:0px;">
                
                <div class="col-2">
                    <img style="width:125%;" t-att-src="image_data_uri(o.company_id.logo)" /> 
                </div>
               
                <div class="col-8" style="text-align:center; padding-top: 20px;">
                    <b style="font-size:24px;" t-field="o.company_id.name"/>
                    <br/>
                    <span t-field="o.company_id.street"/>
                    <span t-field="o.company_id.zip"/>
                    <br/>
                    <span>โทรศัพท์ <span t-field="o.company_id.phone"/></span>
                    <span t-field="o.company_id.email"/>
                    <span>เลขประจำตัวผู้เสียภาษี <span t-field="o.company_id.vat"/></span>
                </div>

                <div class="col-2" style="text-align:center;">
                    <span style="font-size:14;">หน้า                            
                        <span style="margin-left:5px" class="page" />
                        <span style="margin-left:5px"> ของ </span>
                        <span style="margin-left:5px" class="topage" />
                        <br/>
                    </span>
                    <br/>
                    <t t-if="o.company_id.image">
                        <img style="width:70%;" t-att-src="image_data_uri(o.company_id.image)" />
                    </t>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <h3 t-field="o.name"/>
                </div>
                <div class="col-6" style="text-align:center;">
                    <h4><b>ใบเบิกวัตถุดิบ</b></h4>
                </div>
                <div class="col-3"></div>
            </div>
            
            <div class="row">
                <div class="col-4">
                    <span>เลขที่การผลิต:</span><br/>
                    <span t-field="o.origin"/>
                </div>
                <div class="col-4">
                    <span>สถานะ:</span><br/>
                    <span t-field="o.state"/>
                </div>
                <div class="col-4">
                    <span>วันที่ครบกำหนด:</span><br/>
                    <span t-esc="o.get_formatted_date(o.scheduled_date)"/>
                </div>
            </div>
        </div>

        <div class="article">

            <table style="
                            font-size:14px; 
                            text-align:center;
                            border:1px solid;
                            width:100%
                            ">
                <thead>
                    <tr style="border-bottom:1px solid; height:40px; font-size:16px;">
                        <th style="padding-top:5px; padding-bottom:5px; border-right:1px solid; width:19%;">
                            สินค้า</th>
                        <th style="padding-top:5px; padding-bottom:5px; border-right:1px solid; width:13%;">
                            บาร์โค้ดสินค้า</th>
                        <th style="padding-top:5px; padding-bottom:5px; border-right:1px solid; width:13%;">
                            รูปสินค้า</th>
                        <th style="padding-top:5px; padding-bottom:5px; border-right:1px solid; width:10%;">
                            ปริมาณที่ต้องรับ</th>
                        <th style="padding-top:5px; padding-bottom:5px; border-right:1px solid; width:8%;">
                            ปริมาณ</th>
                        <th style="padding-top:5px; padding-bottom:5px; border-right:1px solid; width:12%;">
                            จาก</th>
                        <th style="padding-top:5px; padding-bottom:5px; border-right:1px solid; width:12%;">
                            ถึง</th>
                        <th style="padding-top:5px; padding-bottom:5px; width:13%;">
                            ล็อต/หมายเลขซีเรียล</th>
                    </tr>   
                </thead>
                    <t t-foreach="o.move_line_ids_without_package" t-as="line">
                        <tr style="border-bottom:1px solid;">
                            <td style="padding-top:0px; padding-left:3px; padding-right:3px; border-right:1px solid;">
                                <span t-field="line.product_id"/>
                                </td>
                            <td style="padding-left:3px; padding-right:3px; border-right:1px solid;">
                                <t t-if="line.product_id.barcode">
                                    <img alt="Barcode" t-if="len(line.product_id.barcode) == 13" t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('EAN13', quote_plus(line.product_id.barcode or ''), 600, 100)" style="width:10rem;height:2rem;" />
                                    <img alt="Barcode" t-elif="len(line.product_id.barcode) == 8" t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('EAN8', quote_plus(line.product_id.barcode or ''), 600, 100)" style="width:10rem;height:2rem;" />
                                    <img alt="Barcode" t-else="" t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('Code128', quote_plus(line.product_id.barcode or ''), 600, 100)" style="width:10rem;height:2rem;" />
                                </t>
                                <t t-else="">
                                    <span class="text-muted">No barcode available</span>
                                </t>
                                </td>
                            <td style="padding-top:2px; padding-bottom:2px; padding-left:3px; padding-right:3px; border-right:1px solid;">
                                <t t-if="line.product_id.image_1920">
                                    <img style="width:100px; height:50px;" t-att-src="image_data_uri(line.product_id.image_1920)" />
                                </t>
                                <t t-else="">
                                    <span></span>
                                </t>
                                </td>
                            <td style="padding-left:3px; padding-right:3px; border-right:1px solid;">
                                <span t-field="line.quantity_to_receive"/>
                                </td>
                            <td style="padding-left:3px; padding-right:3px; border-right:1px solid;">
                                <span t-field="line.qty_done"/>
                                </td>
                            <td style="padding-left:3px; padding-right:3px; border-right:1px solid;">
                                <span t-field="line.location_id"/>
                                </td>
                            <td style="padding-left:3px; padding-right:3px; border-right:1px solid;">
                                <span t-field="line.location_dest_id"/>
                                </td>
                            <td style="padding-left:5px; padding-right:5px;">
                                <t t-if="line.lot_id">
                                    <img t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s&amp;humanreadable=1' % ('Code128', line.lot_id.name, 400, 100)" style="width:100%;height:35px;" alt="Barcode"/>
                                </t>
                                </td>
                        </tr>
                    </t>
            </table>

        </div>
        

        <div class="footer">
            <br/>
            <div style="border-top:1px solid;"></div>
        </div>

    </template> 


    <template id="report_pick_components_th_pdf">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="navakij_report.report_pick_components_version_th_custom" />
            </t>
        </t>
    </template>
</odoo>